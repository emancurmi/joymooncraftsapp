{"ast":null,"code":"import _defineProperty from \"C:/Users/Eman/source/repos/emancurmi/joymooncraftsapp/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:/Users/Eman/source/repos/emancurmi/joymooncraftsapp/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport { Collapse, Navbar, NavbarToggler, Nav, NavItem, NavLink, Dropdown, DropdownToggle, DropdownMenu, DropdownItem, Container, Row, Col, Badge } from \"reactstrap\";\nimport UseWindowSize from \"../hooks/UseWindowSize\";\nimport useScrollPosition from \"@react-hook/window-scroll\";\nimport useSize from \"@react-hook/size\";\nimport Logo from \"../../public/svg/logo.svg\";\nimport ActiveLink from \"./ActiveLink\";\nimport CartOverviewDropdown from \"./CartOverviewDropdown\";\nimport menu from \"../data/menu.json\";\nimport userMenu from \"../data/user-menu.json\";\n\nvar Header = function Header(props) {\n  var _useState = useState(false),\n      collapsed = _useState[0],\n      setCollapsed = _useState[1];\n\n  var _useState2 = useState({}),\n      dropdownOpen = _useState2[0],\n      setDropdownOpen = _useState2[1];\n\n  var _useState3 = useState(false),\n      searchToggle = _useState3[0],\n      setSearchToggle = _useState3[1];\n\n  var _useState4 = useState(false),\n      searchFocus = _useState4[0],\n      setSearchFocus = _useState4[1];\n\n  var _useState5 = useState(false),\n      parentName = _useState5[0],\n      setParentName = _useState5[1];\n\n  var _useState6 = useState(\"\"),\n      additionalNavClasses = _useState6[0],\n      setAdditionalNavClasses = _useState6[1];\n\n  var size = UseWindowSize();\n  var scrollY = useScrollPosition();\n  var navbarRef = useRef(null);\n  var topbarRef = useRef(null);\n\n  var _useSize = useSize(topbarRef),\n      _useSize2 = _slicedToArray(_useSize, 2),\n      topbarWidth = _useSize2[0],\n      topbarHeight = _useSize2[1];\n\n  var _useSize3 = useSize(navbarRef),\n      _useSize4 = _slicedToArray(_useSize3, 2),\n      navbarWidth = _useSize4[0],\n      navbarHeight = _useSize4[1];\n\n  var onFocus = function onFocus() {\n    return setSearchFocus(!searchFocus);\n  };\n\n  var toggleDropdown = function toggleDropdown(name) {\n    setDropdownOpen(_objectSpread(_objectSpread({}, dropdownOpen), {}, _defineProperty({}, name, !dropdownOpen[name])));\n  };\n\n  var onLinkClick = function onLinkClick(parent) {\n    size.width < 991 && setCollapsed(!collapsed);\n    setParentName(parent);\n  };\n\n  var makeNavbarSticky = function makeNavbarSticky() {\n    if (props.nav.sticky !== false) {\n      if (scrollY > topbarHeight) {\n        setAdditionalNavClasses(\"fixed-top\");\n        navbarHeight > 0 && props.headerAbsolute !== true && props.setPaddingTop(navbarHeight);\n      } else {\n        setAdditionalNavClasses(\"\");\n        props.setPaddingTop(0);\n      }\n    } else {\n      setAdditionalNavClasses(\"\");\n      props.setPaddingTop(0);\n    }\n  };\n\n  useEffect(function () {\n    makeNavbarSticky();\n  }, [scrollY, topbarHeight]); // highlight not only active dropdown item, but also its parent, i.e. dropdown toggle\n\n  var highlightDropdownParent = function highlightDropdownParent() {\n    menu.map(function (item) {\n      item.dropdown && item.dropdown.map(function (dropdownLink) {\n        dropdownLink.link && dropdownLink.link === Router.route && setParentName(item.title);\n        dropdownLink.links && dropdownLink.links.map(function (link) {\n          return link.link === Router.route && setParentName(item.title);\n        });\n      });\n      item.megamenu && item.megamenu.map(function (megamenuColumn) {\n        return megamenuColumn.map(function (megamenuBlock) {\n          return megamenuBlock.links.map(function (dropdownLink) {\n            if (dropdownLink.link === Router.route) {\n              dropdownLink.parent ? setParentName(dropdownLink.parent) : setParentName(item.title);\n            }\n          });\n        });\n      });\n      item.link === Router.route && setParentName(item.title);\n    });\n  };\n\n  useEffect(highlightDropdownParent, []);\n  return __jsx(\"header\", {\n    className: \"header \".concat(props.headerClasses ? props.headerClasses : \"\", \" \").concat(props.headerAbsolute ? \"header-absolute\" : \"\")\n  }, !props.hideTopbar && __jsx(\"div\", {\n    className: \"top-bar\",\n    ref: topbarRef\n  }, __jsx(Container, {\n    fluid: true\n  }, __jsx(Row, {\n    className: \"d-flex align-items-center\"\n  }, __jsx(Col, {\n    sm: \"7\",\n    className: \"d-none d-sm-block\"\n  }, __jsx(\"ul\", {\n    className: \"list-inline mb-0\"\n  }, __jsx(\"li\", {\n    className: \"list-inline-item pr-3 mr-0\"\n  }, __jsx(\"svg\", {\n    className: \"svg-icon mr-2\"\n  }, __jsx(\"use\", {\n    xlinkHref: \"/icons/orion-svg-sprite.svg#calls-1\"\n  })), \"020-800-456-747\"), __jsx(\"li\", {\n    className: \"list-inline-item px-3 border-left d-none d-lg-inline-block\"\n  }, \"Free shipping on orders over $300\"))), __jsx(Col, {\n    sm: \"5\",\n    className: \"d-flex justify-content-end\"\n  }, __jsx(Dropdown, {\n    className: \"border-right px-3\",\n    key: \"language_dropdown\",\n    isOpen: dropdownOpen[\"language_dropdown\"],\n    toggle: function toggle() {\n      return toggleDropdown(\"language_dropdown\");\n    }\n  }, __jsx(DropdownToggle, {\n    caret: true,\n    tag: \"a\",\n    href: \"#\",\n    className: \"topbar-link\",\n    id: \"langsDropdown\"\n  }, __jsx(\"img\", {\n    className: \"topbar-flag\",\n    src: \"/svg/united-kingdom.svg\",\n    alt: \"english\"\n  }), \"English\"), __jsx(DropdownMenu, {\n    right: true,\n    \"aria-labelledby\": \"langsDropdown\"\n  }, __jsx(DropdownItem, {\n    className: \"text-sm\"\n  }, __jsx(\"img\", {\n    className: \"topbar-flag\",\n    src: \"/svg/germany.svg\",\n    alt: \"german\"\n  }), \"German\"), __jsx(DropdownItem, {\n    className: \"text-sm\"\n  }, __jsx(\"img\", {\n    className: \"topbar-flag\",\n    src: \"/svg/france.svg\",\n    alt: \"french\"\n  }), \"French\"))), __jsx(Dropdown, {\n    className: \"pl-3 ml-0\",\n    key: \"currency_dropdown\",\n    isOpen: dropdownOpen[\"currency_dropdown\"],\n    toggle: function toggle() {\n      return toggleDropdown(\"currency_dropdown\");\n    }\n  }, __jsx(DropdownToggle, {\n    caret: true,\n    tag: \"a\",\n    href: \"#\",\n    className: \"topbar-link\",\n    id: \"currencyDropdown\"\n  }, \"USD\"), __jsx(DropdownMenu, {\n    right: true,\n    \"aria-labelledby\": \"currencyDropdown\"\n  }, __jsx(DropdownItem, {\n    className: \"text-sm\"\n  }, \"EUR\"), __jsx(DropdownItem, {\n    className: \"text-sm\"\n  }, \"GBP\"))))))), __jsx(\"div\", {\n    ref: navbarRef\n  }, __jsx(Navbar, {\n    color: props.nav.color ? Object.values(dropdownOpen).some(function (dropdown) {\n      return dropdown;\n    }) || collapsed ? \"white\" : props.nav.color : \"white\",\n    light: props.nav.light || Object.values(dropdownOpen).some(function (dropdown) {\n      return dropdown;\n    }) || collapsed,\n    dark: props.nav.dark && !Object.values(dropdownOpen).some(function (dropdown) {\n      return dropdown;\n    }) && !collapsed,\n    fixed: props.nav.fixed ? props.nav.fixed : \"\",\n    expand: \"lg\",\n    className: \" \".concat(props.nav.classes ? props.nav.classes : \"navbar-sticky bg-fixed-white\", \" \").concat(additionalNavClasses ? additionalNavClasses : \"\")\n  }, __jsx(Container, {\n    fluid: true\n  }, __jsx(Link, {\n    href: \"/\",\n    passHref: true\n  }, __jsx(\"a\", {\n    className: \"py-1 navbar-brand\"\n  }, __jsx(Logo, null))), __jsx(NavbarToggler, {\n    onClick: function onClick() {\n      return setCollapsed(!collapsed);\n    },\n    className: \"navbar-toggler-right\"\n  }, __jsx(\"i\", {\n    className: \"fa fa-bars\"\n  })), __jsx(Collapse, {\n    isOpen: collapsed,\n    navbar: true\n  }, __jsx(Nav, {\n    navbar: true,\n    className: \"mx-auto\"\n  }, menu && menu.map(function (item) {\n    return item.dropdown || item.megamenu ? // show entire menu to unlogged user or hide items that have hideToLoggedUser set to true\n    !props.loggedUser || props.loggedUser && !item.hideToLoggedUser ? __jsx(Dropdown, {\n      nav: true,\n      inNavbar: true,\n      key: item.title,\n      className: item.position ? \"position-\".concat(item.position) : \"\",\n      isOpen: dropdownOpen[item.title],\n      toggle: function toggle() {\n        return toggleDropdown(item.title);\n      }\n    }, __jsx(DropdownToggle, {\n      nav: true,\n      caret: true,\n      className: parentName === item.title ? \"active\" : \"\"\n    }, item.title), __jsx(DropdownMenu, {\n      className: \" \".concat(item.megamenu ? \"megamenu py-lg-0\" : \"\")\n    }, item.dropdown && item.dropdown.map(function (dropdownItem) {\n      return dropdownItem.links ? __jsx(React.Fragment, {\n        key: dropdownItem.title\n      }, dropdownItem.divider && __jsx(DropdownItem, {\n        divider: true\n      }), __jsx(\"h6\", {\n        className: \"dropdown-header font-weight-normal\"\n      }, dropdownItem.title), dropdownItem.links.map(function (link) {\n        return __jsx(ActiveLink, {\n          key: link.title,\n          activeClassName: \"active\",\n          href: link.link,\n          passHref: true\n        }, __jsx(DropdownItem, {\n          onClick: function onClick() {\n            return onLinkClick(item.title);\n          }\n        }, link.title, link[\"new\"] && __jsx(Badge, {\n          color: \"warning\",\n          className: \"ml-1 mt-n1\"\n        }, \"New\")));\n      })) : __jsx(ActiveLink, {\n        key: dropdownItem.title,\n        activeClassName: \"active\",\n        href: dropdownItem.link,\n        passHref: true\n      }, __jsx(DropdownItem, {\n        onClick: function onClick() {\n          return onLinkClick(item.title);\n        }\n      }, dropdownItem.title, dropdownItem[\"new\"] && __jsx(Badge, {\n        color: \"warning\",\n        className: \"ml-1 mt-n1\"\n      }, \"New\")));\n    }), item.megamenu && __jsx(Row, null, __jsx(Col, {\n      lg: \"9\"\n    }, __jsx(Row, {\n      className: \"p-3 pr-lg-0 pl-lg-5 pt-lg-5\"\n    }, item.megamenu.map(function (megamenuItem, index) {\n      return __jsx(Col, {\n        key: index,\n        lg: \"3\"\n      }, megamenuItem.map(function (block, index) {\n        return __jsx(React.Fragment, {\n          key: index\n        }, __jsx(\"h6\", {\n          className: \"text-uppercase\"\n        }, block.title), __jsx(\"ul\", {\n          className: \"megamenu-list list-unstyled\"\n        }, block.links.map(function (link, index) {\n          return __jsx(\"li\", {\n            key: index,\n            className: \"megamenu-list-item\"\n          }, __jsx(ActiveLink, {\n            activeClassName: \"active\",\n            href: link.link,\n            as: link.as,\n            passHref: true\n          }, __jsx(DropdownItem, {\n            className: \"megamenu-list-link\",\n            onClick: function onClick() {\n              return link.parent ? onLinkClick(link.parent) : onLinkClick(item.title);\n            }\n          }, link.title, link[\"new\"] && __jsx(Badge, {\n            color: \"warning\",\n            className: \"ml-1 mt-n1\"\n          }, \"New\"))));\n        })));\n      }));\n    })), item.services && __jsx(Row, {\n      className: \"megamenu-services d-none d-lg-flex pl-lg-5\"\n    }, item.services.map(function (service) {\n      return __jsx(Col, {\n        key: service.title,\n        xl: \"3\",\n        lg: \"6\",\n        className: \"d-flex\"\n      }, __jsx(\"div\", {\n        className: \"megamenu-services-item\"\n      }, __jsx(\"svg\", {\n        className: \"svg-icon megamenu-services-icon\"\n      }, __jsx(\"use\", {\n        xlinkHref: service.icon\n      })), __jsx(\"div\", null, __jsx(\"h6\", {\n        className: \"text-uppercase\"\n      }, service.title), __jsx(\"p\", {\n        className: \"mb-0 text-muted text-sm\"\n      }, service.content))));\n    }))), item.image && __jsx(Col, {\n      lg: \"3\",\n      className: \"d-none d-lg-block\"\n    }, __jsx(\"img\", {\n      src: item.image,\n      alt: \"\",\n      className: \"bg-image\"\n    }))))) : \"\" : props.loggedUser && !item.hideToLoggedUser || !props.loggedUser ? __jsx(NavItem, {\n      key: item.title,\n      className: item.button ? \"mt-3 mt-lg-0 ml-lg-3 d-lg-none d-xl-inline-block\" : \"\"\n    }, item.button ? item.showToLoggedUser !== false && __jsx(ActiveLink, {\n      activeClassName: \"active\",\n      href: item.link\n    }, __jsx(\"a\", {\n      className: \"btn btn-primary\",\n      onClick: function onClick() {\n        return onLinkClick(item.title);\n      }\n    }, item.title)) : __jsx(ActiveLink, {\n      activeClassName: \"active\",\n      href: item.link,\n      passHref: true\n    }, __jsx(NavLink, {\n      onClick: function onClick() {\n        return onLinkClick(item.title);\n      }\n    }, item.title))) : \"\";\n  })), __jsx(\"div\", {\n    className: \"d-flex align-items-center justify-content-between justify-content-lg-end mt-1 mb-2 my-lg-0\"\n  }, __jsx(\"div\", {\n    className: \"nav-item navbar-icon-link\",\n    \"data-toggle\": \"search\",\n    onClick: function onClick() {\n      return setSearchToggle(!searchToggle);\n    }\n  }, __jsx(\"svg\", {\n    className: \"svg-icon\"\n  }, __jsx(\"use\", {\n    xlinkHref: \"/icons/orion-svg-sprite.svg#search-1\"\n  }))), props.loggedUser ? userMenu.map(function (item) {\n    return __jsx(Dropdown, {\n      nav: true,\n      inNavbar: true,\n      key: item.title,\n      tag: \"div\",\n      className: item.type === \"avatar\" ? \"navbar-icon-link mt-n1 py-0\" : \"\",\n      isOpen: dropdownOpen[item.title],\n      toggle: function toggle() {\n        return toggleDropdown(item.title);\n      }\n    }, __jsx(DropdownToggle, {\n      nav: true,\n      style: item.type === \"avatar\" && {\n        padding: 0\n      }\n    }, item.type === \"avatar\" ? __jsx(\"img\", {\n      src: item.img,\n      alt: item.title,\n      className: \"avatar avatar-sm avatar-border-white\"\n    }) : item.title), __jsx(DropdownMenu, {\n      right: true\n    }, item.dropdown && item.dropdown.map(function (dropdownItem, dropdownIndex) {\n      return dropdownItem.divider ? __jsx(DropdownItem, {\n        key: dropdownIndex,\n        divider: true\n      }) : __jsx(ActiveLink, {\n        key: dropdownIndex,\n        activeClassName: \"active\",\n        href: dropdownItem.link,\n        passHref: true\n      }, __jsx(DropdownItem, {\n        onClick: function onClick() {\n          return onLinkClick(item.title);\n        }\n      }, dropdownItem.title));\n    })));\n  }) : __jsx(\"div\", {\n    className: \"nav-item\"\n  }, __jsx(Link, {\n    href: \"/customer-login\"\n  }, __jsx(\"a\", {\n    className: \"navbar-icon-link\"\n  }, __jsx(\"svg\", {\n    className: \"svg-icon\"\n  }, __jsx(\"use\", {\n    xlinkHref: \"/icons/orion-svg-sprite.svg#male-user-1\"\n  })), __jsx(\"span\", {\n    className: \"text-sm ml-2 ml-lg-0 text-uppercase text-sm font-weight-bold d-none d-sm-inline d-lg-none\"\n  }, \"Log in\")))), __jsx(CartOverviewDropdown, null)))))), searchToggle && __jsx(\"div\", {\n    className: \"search-area-wrapper\",\n    style: {\n      display: \"block\"\n    }\n  }, __jsx(\"div\", {\n    className: \"search-area d-flex align-items-center justify-content-center\"\n  }, __jsx(\"div\", {\n    className: \"close-btn\",\n    onClick: function onClick() {\n      return setSearchToggle(!searchToggle);\n    }\n  }, __jsx(\"svg\", {\n    className: \"svg-icon svg-icon-light w-3rem h-3rem\"\n  }, __jsx(\"use\", {\n    xlinkHref: \"/icons/orion-svg-sprite.svg#close-1\"\n  }, \" \"))), __jsx(\"form\", {\n    className: \"search-area-form\",\n    action: \"#\"\n  }, __jsx(\"div\", {\n    className: \"form-group position-relative\"\n  }, __jsx(\"input\", {\n    className: \"search-area-input\",\n    type: \"search\",\n    name: \"search\",\n    id: \"search\",\n    autoFocus: true,\n    placeholder: \"What are you looking for?\"\n  }), __jsx(\"button\", {\n    className: \"search-area-button\",\n    type: \"submit\"\n  }, __jsx(\"svg\", {\n    className: \"svg-icon\"\n  }, __jsx(\"use\", {\n    xlinkHref: \"/icons/orion-svg-sprite.svg#search-1\"\n  }))))))));\n};\n\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}